{"version":3,"sources":["../src/passport1.js"],"names":["passport","require","GoogleStrategy","OAuth2Strategy","console","log","AuthConfig","clientId","use","clientID","clientSecret","callbackUrl","accessToken","refreshToken","profile","done","User","findOrCreate","googleId","id","err","user"],"mappings":";;AAEA;;AAFA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,iBAAiBD,QAAQ,uBAAR,EAAiCE,cAAtD;;;AAGA;AACA;AACA;AACA;AACAC,QAAQC,GAAR,CAAY,WAAZ,EAAyBC,yBAAWC,QAApC;AACAP,SAASQ,GAAT,CAAa,IAAIN,cAAJ,CAAmB;AAC5BO,eAAUH,yBAAWC,QADO;AAE5BG,mBAAcJ,yBAAWI,YAFG;AAG5BC,kBAAa;AAHe,CAAnB,EAKX,UAASC,WAAT,EAAsBC,YAAtB,EAAoCC,OAApC,EAA6CC,IAA7C,EAAmD;AAC/CX,aAAQC,GAAR,CAAY,OAAZ;AACCW,UAAKC,YAAL,CAAkB,EAAEC,UAAUJ,QAAQK,EAApB,EAAlB,EAA4C,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AAC5DjB,kBAAQC,GAAR,CAAY,OAAZ;AACA,iBAAOU,KAAKK,GAAL,EAAUC,IAAV,CAAP;AACJ,MAHD;AAIJ,CAXU,CAAb","file":"passport1.js","sourcesContent":["var passport = require('passport');\r\nvar GoogleStrategy = require('passport-google-oauth').OAuth2Strategy;\r\nimport { AuthConfig } from './commons/ServerConfig';\r\n\r\n// Use the GoogleStrategy within Passport.\r\n//   Strategies in Passport require a `verify` function, which accept\r\n//   credentials (in this case, an accessToken, refreshToken, and Google\r\n//   profile), and invoke a callback with a user object.\r\nconsole.log('client id', AuthConfig.clientId);\r\npassport.use(new GoogleStrategy({\r\n    clientID: AuthConfig.clientId,\r\n    clientSecret: AuthConfig.clientSecret,\r\n    callbackUrl: 'http://localhost:3001/api/admin/auth/google/callback'\r\n  },\r\n  function(accessToken, refreshToken, profile, done) {\r\n      console.log('res 1');\r\n       User.findOrCreate({ googleId: profile.id }, function (err, user) {\r\n            console.log('res 2');\r\n            return done(err, user);\r\n       });\r\n  }\r\n));\r\n"]}