{"version":3,"sources":["../../src/commons/DbConfig.js"],"names":["DbConfig","KeyValues","Initialize","Promise","resolve","reject","sql","queries","getAllDbConfig","db","executeQuery","then","res","map","item","index","meta_key","meta_value","console","log","process","env","MYSQL_HOST","site_url","catch","err"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;IAEMA,Q;;;;;SACFC,S,GAAY,E;;SACZC,U,GAAa,YAAM;AACf,eAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,gBAAIC,MAAMC,kBAAQC,cAAR,EAAV;AACAC,8BAAGC,YAAH,CAAgBJ,GAAhB,EAAqBK,IAArB,CAA0B,UAACC,GAAD,EAAS;AAC/B,oBAAGA,GAAH,EAAQ;AACJA,wBAAIC,GAAJ,CAAQ,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACrB,8BAAKd,SAAL,CAAea,KAAKE,QAApB,IAAgCF,KAAKG,UAArC;AACH,qBAFD;AAGAC,4BAAQC,GAAR,CAAY,sBAAZ;AACA,wBAAGC,QAAQC,GAAR,CAAYC,UAAZ,IAA0BF,QAAQC,GAAR,CAAYC,UAAZ,KAA2B,WAAxD,EAAqE;AACjE,8BAAKrB,SAAL,CAAesB,QAAf,GAA0B,uBAA1B;AACH;AACDnB,4BAAQ,MAAKH,SAAb;AACH;AACJ,aAXD,EAWGuB,KAXH,CAWS,UAACC,GAAD,EAAS;AACdP,wBAAQC,GAAR,CAAY,mCAAZ;AACAd,uBAAOoB,GAAP;AACH,aAdD;AAeH,SAjBM,CAAP;AAkBH,K;;;kBAEUzB,Q","file":"DbConfig.js","sourcesContent":["import queries from \"../db/queries\";\r\nimport db from \"../db/mysqldb\";\r\n\r\nclass DbConfig {\r\n    KeyValues = {};\r\n    Initialize = () => {\r\n        return new Promise((resolve, reject) => {\r\n            let sql = queries.getAllDbConfig();\r\n            db.executeQuery(sql).then((res) => {\r\n                if(res) {\r\n                    res.map((item, index) => {\r\n                        this.KeyValues[item.meta_key] = item.meta_value;\r\n                    });\r\n                    console.log('Db config values set');\r\n                    if(process.env.MYSQL_HOST && process.env.MYSQL_HOST === 'localhost') {\r\n                        this.KeyValues.site_url = 'http://localhost:3001';\r\n                    }\r\n                    resolve(this.KeyValues);\r\n                }\r\n            }).catch((err) => {\r\n                console.log('Error in loading db config values');\r\n                reject(err);\r\n            });\r\n        })\r\n    }\r\n}\r\nexport default DbConfig;"]}